{% extends '::frontend.html.twig' %}


{% block id 'materia' %}

{% block title %}Modificar materia{% endblock%}

{% block article %}
<section id="menu_admin">
    {% include 'administrativoBundle:Default:menu_admin.html.twig'%}
    </section>
    <h1>{{ block ('title')}}</h1>

    <form  action="{{ path('materia_modificar_id',{'mid':id} )}}" method="post" {{
        form_enctype(formulario) }}>
        {{ form_errors(formulario) }}
               <fieldset>
                  {{form_row(formulario.nombre, { 'attr': {'autocomplete' : 'off' } }) }}                  
                  {{form_label(formulario.numerocreditos,'Créditos:')}}{{form_errors(formulario.numerocreditos)}}{{form_widget(formulario.numerocreditos, { 'attr': {'autocomplete' : 'off' , 'size': 30, 'onkeypress' : 'return NumCheck(event, this)', 'onchange': "numerononegativo(this);" } }) }}<br>
                  {{form_label(formulario.numerohoras,'Horas:')}}{{form_errors(formulario.numerohoras)}}{{form_widget(formulario.numerohoras, { 'attr': {'autocomplete' : 'off' , 'size': 30, 'onkeypress' : 'return NumCheck(event, this)', 'onchange': "numerononegativo(this);"} }) }}
                  {{form_row(formulario.descripcion, { 'attr': {'autocomplete' : 'off' } }) }}                                  
                  {{form_row(formulario.estado, { 'attr': {'autocomplete' : 'off' } }) }}
                   </fieldset>   
         {{form_rest(formulario)}}                   
                   <input class="boton" type="submit" value="Guardar" />
               </form>


{% endblock%}

{% block aside %}
    {{ parent()}}
               <a href="{{ path('usuario_logout') }}" title="Cerrar sesión actual"><strong>Cerrar sesión</strong></a>
{% endblock%}

    {% block javascripts %}
    {{ parent() }}
               <script> 
               function NumCheck(e, field) {
             key = e.keyCode ? e.keyCode : e.which
             // backspace
             if (key == 8) return true
             // 0-9
             if (key > 47 && key < 58) {
               if (field.value == "") return true
               regexp = /.[0-9]{2}$/
               return !(regexp.test(field.value))
             }
             // .
             if (key == 46) {
               if (field.value == "") return false
               regexp = /^[0-9]+$/
               return regexp.test(field.value)
             }
             // other key
             return false
           }

           function numerononegativo(element)
           {
           var cant = element.value;
           // alert('Valor introducido: '+cant+' \n\n ID: '+element.id+' | Es flotante? '+cant_es_flotante);
           // descomentar si quieres revisar los valores del id, value y si es flotante
 
           if (cant < 1 )
           {
           alert('Valor introducido: '+cant+' \n\n Introduce numeros enteros mayores que 0');
           document.getElementById(element.id).value = "";
           }

           }
 

                   </script>    
    {% endblock %}